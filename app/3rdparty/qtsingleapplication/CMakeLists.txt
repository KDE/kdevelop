set(qtsingleapplication_SRCS qtlocalpeer.cpp qtsingleapplication.cpp qtlockedfile.cpp)
if(WIN32)
    list(APPEND qtsingleapplication_SRCS qtlockedfile_win.cpp)
else()
    list(APPEND qtsingleapplication_SRCS qtlockedfile_unix.cpp)
endif()
add_library(qtsingleapplication STATIC ${qtsingleapplication_SRCS})
target_link_libraries(qtsingleapplication Qt${QT_MAJOR_VERSION}::Core Qt${QT_MAJOR_VERSION}::Network Qt${QT_MAJOR_VERSION}::Widgets)
