<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>Benutzerhandbuch zu KDevelop: Programme</TITLE>
<META HTTP-EQUIV="content-type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="keywords" CONTENT="">
<META NAME="description" CONTENT="">
</HEAD>
<BODY BGCOLOR="#ffffff" LINK="#aa0000" TEXT="#000000" > 
<FONT FACE="Helvetica">
<A HREF="http://www.kde.org/"><IMG SRC="logotp3.gif" BORDER="0" ALT="The K Desktop Environment"></A>
<HR WIDTH="100%" SIZE=2 ALIGN="CENTER" NOSHADE>

 
<P ALIGN="RIGHT">

<A HREF="index-4.html">Weiter</A>
 <A HREF="index-2.html">Zurück</A>
 <A HREF="index.html#toc3">Inhaltsverzeichnis</A>
</P>
<H3><A NAME="Programme"></A> <A NAME="s3">3. Programme</A></H3>

<P>Nachdem KDevelop erfolgreich installiert und die allgemeinen Einstellungen vorgenommen sind, möchten Sie wahrscheinlich wissen, ob die
IDE hält, was sie verspricht. Dieses Kapitel gibt Ihnen einen Leitfaden, wie Programme allgemein mit den GNU Werkzeugen erzeugt werden
und welchen Teil speziell KDevelop in diesem Prozeß &uuml;bernimmt.
<P>
<H3><A NAME="Der Compiler"></A> <A NAME="ss3.1">3.1 Der Compiler</A>
</H3>

<P>Der Compiler ist letztlich das Programm auf Ihrem System, das mindestens installiert sein muß um laufende Programme zu erzeugen; er ist
derjenige, der den Quellcode in Objektdateien &uuml;bersetzt und das Programm erzeugt.
<P>Normalerweise w&uuml;rden Sie so starten:
Öffnen Sie einen Editor Ihrer Wahl - benutzen Sie keine Textverarbeitung. Geben Sie etwa dieses ein, um den Quellcode Ihres ersten
Programmes zu schreiben:
<P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
#include &lt;iostream.h>

int main(){

cout &lt;&lt; "Hello World" &lt;&lt; endl;

}
</PRE>
</CODE></BLOCKQUOTE>
<P>Nun, alles, was das Programm tun wird, ist den String "Hello World" auf Ihrer Standardausgabe auszugeben. Aber dies ist nur der
Quellcode f&uuml;r ein zu erstellendes Programm, nicht das Programm selbst. Daher benötigen Sie einen Compiler, in diesem Fall ein
C++-Compiler wie etwa g++. Dann können Sie den Quellcode als Datei speichern, sagen wir als myprogram.cpp und den Compiler mit dem
Dateinamen aufrufen (auf einer Konsole):
<P>
<BLOCKQUOTE><CODE>
<PRE>
g++ -o myprogram myprogram.cpp
</PRE>
</CODE></BLOCKQUOTE>
<P>Danach können wir unser Programm starten- geben Sie einfach <CODE>myprogram</CODE> auf der Konsole ein, und das Programm gibt den String aus
und beendet sich.
<P>
<H3><A NAME="Make"></A> <A NAME="ss3.2">3.2 Make und Makefiles</A>
</H3>

<P>Ich habe jetzt alles, was ich brauche: einen Editor, einen Compiler und ich kann mein eigenes C++ Programm ausf&uuml;hren. Aber es ist nicht
ganz so einfach. Was passiert, wenn Sie mehr als eine Quellcodedatei haben ? Und, m&uuml;ssen Sie dann die Quellen immer wieder &uuml;bersetzen,
wenn Sie nur eine Datei geändert haben ? Der Übersetzungsvorgang wird immer komplizierter und Zeitraubender, weil Sie alle Kommandos
und Optionen selbst eintippen m&uuml;ssen. Deshalb können Sie sich ein sogenanntes "Makefile" schreiben. Man könnte es genausogut anders
nennen, außer dem Namen des Programms, das zu erstellen ist. Dann sollten Sie das Werkzeug <CODE>make</CODE> oder <CODE>gmake</CODE> installiert haben,
oder ein anderes Werkzeug, das den Übersetzungsvorgang &uuml;berwacht. F&uuml;gen Sie alle Compileranweisungen in der speziellen
Erstellungssyntax in das Makefile ein und speichern Sie es; danach brauchen Sie nur noch <CODE>make</CODE> oder <CODE>gmake</CODE> auf der Konsole in
dem Verzeichnis einzugeben, wo sich das Makefile befindet; make &uuml;bernimmt dann und bringt den Compiler dazu Ihr Programm zu erzeugen.
Das Make-Werkzeug hat noch viele weitere Vorteile und kann zu vielen Zwecken verwendet werden. Um eine Übersicht zu bekommen, öffnen
Sie eine Konsole und geben Sie ein:
<P><CODE>man make</CODE>
<P>oder suchen sie nach "GNU Make" in der KDE-Hilfe unter "System GNU Info contents".
<P>Dies erklärt Ihnen, warum ein Entwickler das Make-Werkzeug beötigt, um den Ubersetzungsvorgang seiner Applikation zu vereinfachen. Nun,
das schreiben der Makefiles ist jetzt nicht nur Handarbeit, Sie m&uuml;ssen sich auch noch in die Syntax und die Optionen hineinarbeiten.
Aber hier ist die gute Nachricht &uuml;ber KDevelop und das Make-Werkzeug: Sie m&uuml;ssen nur das Make-Kommando im 
<A HREF="index-12.html#General Configuration">KDevelop Setup</A> Dialog setzen und Sie sind soweit. Alle Projekte, die von KDevelop erzeugt werden, benutzen das
Make-Kommando um die Zielapplikation zu erstellen, und Sie m&uuml;ssen nichts eingeben. Klicken Sie einfach auf den Make-Knopf in der
Werkzeugleiste oder wählen Sie die gew&uuml;nschte Funktion aus dem "Erstellen" Men&uuml;.
<P>Die Werkzeugleiste und das "Erstellen"-Men&uuml; bieten die meist benutzten Funktionen, um make die Arbeit erledigen zu lassen:
<P>
<UL>
<LI> Datei compilieren: ist nur aktiv, wenn Sie an einer Quellcode-Datei arbeiten. Diese Funktion ruft make mit dem korrekten
Kommando auf, nur die aktuelle Quelldatei zu &uuml;bersetzen.</LI>
<LI> Erstellen: ruft make auf und erzeugt das Zielobjekt (die Applikation)</LI>
<LI> Alles neu erstellen: löscht alle schon &uuml;bersetzten Dateien und erstellt das Projekt neu</LI>
<LI> Säubern/alles neu erstellen: löscht alle &uuml;bersetzten Dateien inklusive der Konfigurationsdateien des Projekts und erstellt alles
neu</LI>
<LI> Stoppen: beendet den aktuellen Prozeß</LI>
<LI> Ausf&uuml;hren: erstellt die Zieldatei und f&uuml;hrt das Programm aus</LI>
<LI> Mit Argumenten ausf&uuml;hren: erstellt die Zieldatei und gibt Ihnen die Möglichkeit, dem Programm vor seiner Ausf&uuml;hrung
Kommandozeilenoptionen zu &uuml;bergeben.</LI>
<LI> Debuggen: erstellt die Zieldatei und startet KDbg mit dem Programm, um es zu debuggen</LI>
</UL>
<P>Aber dies ist nicht das einzige, wo KDevelop mit make zusammenarbeitet- bei KDE Applikationen sind einige Dinge speziell auf die
Unterst&uuml;tzung des Entwicklers abgestimmt wie die Erzeugung der Messages-Datei f&uuml;r die Internationalisierung Ihres Projekts. Diese
Funktionen sind ebenfalls sorgfältig integriert, sodaß Sie sich dar&uuml;ber nicht mehr den Kopf zerbrechen m&uuml;ssen.
<P>Bis jetzt wissen Sie schon einiges &uuml;ber Quelldateien, den Compiler und warum make benötigt wird. Im nächsten Abschnitt werden wir
besprechen, warum Projekte, die mit KDevelop erstellt wurden, automatisch durch Verwendung eines <CODE>configure</CODE>-Scripts auf den meisten
Unix-Plattformen &uuml;bersetzt werden können.
<P>
<H3><A NAME="Configure"></A> <A NAME="ss3.3">3.3 Configure</A>
</H3>

<P>Der Titel dieses Abschnitts- Configure, bedeutend soviel wie Konfiguriere - läßt Sie wahrscheinlich fragen: Konfiguriere ? Was muß
konfiguriert werden ? Oder wer ?
<P>Nun, gehen wir davon aus, das Sie ein Programm geschrieben haben inklusive einem Makefile. Dann wollen Sie es verbreiten, aber die
compilierte Binärdatei läuft nur auf Ihrem System und auf solchen, die mit Ihrem kompatibel sind. Um andere Plattformen zu unterst&uuml;tzen
wie die verschiedenen Unix-Systeme oder Maschinen wie Alpha's oder RISC's m&uuml;ssen Sie ihr Programm neu &uuml;bersetzen. Der einfachste Weg
wäre, das Quellpaket auf die Zielmaschine zu kopieren und <CODE>make</CODE> nochmals laufen zu lassen. Aber was wäre, wenn die Zielmaschine
einen anderen Compiler benutzt oder in anderer Weise ein Problem erzeugt, die ein erstellen des Programms verhindert ? Nicht zu
erwähnen die schwierigeren Dinge wie der Installationspfad f&uuml;r Ihr Programm und Dokumentation- z.B. kann KDE auf einer Maschine
unter <CODE></CODE>opt/kde/ installiert sein, auf einer anderen aber unter <CODE>usr</CODE>local/kde/. In diesem Fall m&uuml;ßten Sie das Makefile immer
bearbeiten, um eine korrekte Übersetzung und Installation Ihres Produkts sicherzustellen.
<P>Gl&uuml;cklicherweise haben die GNU-Werkzeuge noch mehr zu bieten als das mächtige <CODE>make</CODE>- die allgemein genutzten Pakete automake und
autoconf. Es klingt gut, etwas mit "auto"- es scheint als ob etwas beim Applikations Design einfach und schnell gemacht werden kann,
was auch genau den Punkt trifft.
<P>Der Zweck von <CODE>automake</CODE> ist generell, die sogenannten <CODE>Makefile.in</CODE>'s aus der Datei <CODE>Makefile.am</CODE> zu erstellen, die Sie f&uuml;r
Ihr Projekt anstatt einer "richtigen" Makefile schreiben m&uuml;ssen. Diese Makefile.am besteht aus Makros, die leicht interpretiert und die
Komplexität reduziert, die make anbietet, sodaß eine Makefile.am fehlerloser und schneller geschrieben werden kann als das letztliche
Makefile.
<P>Aber wer erzeugt mir dann letztlich mein Makefile ?  Nun, hier kommt autoconf. Autoconf benötigt verschieden Makrodateien f&uuml;r das
Projekt. Diese sind die Makefile.in's, die automake erzeugt hat und eine Datei namesn <CODE>configure.in</CODE>, die auch aus Makros besteht.
Hierbein beinhalten die Makefile.am und .in's die Makros die daf&uuml;r verantwortlich sind, wie das Ziel erstellt wird in Bezug auf die
Quellen, die &uuml;bersetzt werden m&uuml;ssen, welche Dateien zum Paket gehören und welchen Namen die letzliche Binärdatei oder Bibliothek nach
einem Erstellungsvorgang hat. Configure.in andererseits beinhaltet die Makros, nach denen das letztliche configure-Skript das System
pr&uuml;ft, auf denen configure ausgef&uuml;hrt wird. Dies können z.B. das Compiler-Kommando, benötigte Bibliotheken zu denen die letzliche
Binärdatei gelinkt wird und include-Dateien, die das Projekt benötigt, sein.
<P>Wenn Sie z.B. eine KDE Applikation schreiben und nach der Fertigstellung Ihr Programm Benutzern zu verf&uuml;gung stellen möchten, muß
jeder Benutzer die Binärdatei selbst compilieren. Dann w&uuml;rden Sie eine configure.in Datei, die die Makros f&uuml;r eine KDE-kompatible
Applikation enthält. Diese Makros werden dann expandiert zu einer Systempr&uuml;fung, ob die Qt-Bibliothek installiert ist, dem Pfad der
Qt-Headerdateien, den KDE Bibliotheken und Headern etc.
<P>
<P><B>Zusammenfassung:</B> Um eine GNU-gemäße Applikation zu erstellen, die auf verschiedene Unix-Betriebssysteme und andere Maschinen
als Ihre eigene portabel sein soll, m&uuml;ssen Sie folgendes ausf&uuml;hren:
<P>
<OL>
<LI> die Quellen Ihres Projekts schreiben</LI>
<LI> eine Makefile.am f&uuml;r jedes Unterverzeichnis erstellen, inklusive dem Hauptverzeichnis Ihres Projekts</LI>
<LI> eine configure.in Datein im Hauptverzeichnis erstellen, das die Makros f&uuml;r die Systemanforderungen enthält</LI>
<LI> automake aufrufen</LI>
<LI> autoconf aufrufen</LI>
</OL>
<P>Dann ist die Hauptarbeit getan. Automake erzeugt die Makefile.in's, autoconf läuft &uuml;ber die configure.in und Makefile.in's und erzeugt
das ausf&uuml;hrbare Shellscript <CODE>configure</CODE>. Alles, was Sie dann zu tun haben, ist die Ausf&uuml;hrung mit <CODE>./configure</CODE> und das
Script wird die Pr&uuml;fungen durchf&uuml;hren. Schließlich werden die Makefiles erzeugt, die die Ausf&uuml;hrung von make (oder gmake) erlauben, um
das Projekt zu erstellen.
<P>Dies alles scheint ein bischen viel zu sein, nur um eine kleine Applikation zu schreiben und auch viel zu lernen, speziell die
korrekten Makros. Aber allein der Umstand, das Sie damit einen Kompiliervorgang auf fast allen Unix-Systemen erreichen, macht die
Arbeit fr&uuml;her oder später wett. Schließlich m&uuml;ssen Sie diese Arbeit auch nur einmal f&uuml;r das Projekt machen und im Fall, das Ihre
Projektdateien anwachsen, brauchen Sie ja nur die Dateinamen den Makros hinzuf&uuml;gen.
<P>Nun, inwiefern unterst&uuml;tzt KDevelop diese Art der Applikationserstellung und wie kompliziert wird es f&uuml;r den Programmierer ?
Die gute Nachricht f&uuml;r Sie ist: Sie brauchen noch nicht eimal etwas &uuml;ber Makros und Skripte zu wissen. Alle Details sind hinter einer
einfach zu bedienenden graphischen Benutzeroberfläche versteckt, die die Arbeit f&uuml;r Sie &uuml;bernimmt. Eine Applikation wird mit den
GNU-Tools deshalb auf sehr benutzerfreundliche Art erstellt:
<P>Erzeugen Sie Ihre Applikation einfach mit dem KAppWizard nach Wahl der Bed&uuml;rfnisse Ihrer Applikation- es mag ein reines C++
Terminalprogramm sein oder eine Art GUI Programm, das die Qt oder die Qt/KDE Bibliothek benutzt. Die ganze Arbeit wird
f&uuml;r Sie erledigt und Ihr Projekt enthält schon die Makefiles, die durch eine automatische Ausf&uuml;hrung der GNU-Tools und des
configure-Skripts erstellt wurden.
<P>Das wäre es schon- Sie brauchen nur die Quellen Ihres Projekts zu erweitern, sei es durch hinzuf&uuml;gen von Klassen, Dialogen,
Übersetzungen oder Dokumentation, was auch vollständig automatisiert abläuft. Konzentrieren Sie sich einfach auf die wirkliche Arbeit
eines Entwicklers, nämlich Ihrer Applikation Funktionalität zu verleihen. In den meisten Fällen werden sie wahrscheinlich nie mit
Makefiles in Ber&uuml;hrung kommen, wenn Sie KDevelop benutzen.
<P>
<H3><A NAME="Debuggen"></A> <A NAME="ss3.4">3.4 Debuggen</A>
</H3>

<P>Der folgende Abschnitt betrachtet einen Terminus, der unter Entwicklern weit verbreitet ist: Debuggen. Das bedeutet, das, obwohl Ihr
Compiler die letzliche Applikation erzeugt, das Programm aber nicht läuft oder während der Ausf&uuml;hrung abst&uuml;rzt wegen eines sogenannten
"Bugs" (Käfer) im Code. Ein Programmfehler, der mit dem Namen dieser Insekten beschrieben wird, stammt aus der Geschichte des
Computers; einer der ersten Fehler, die eine Maschine zum Absturz brachte, war keine offensichtliche Fehlfunktion- Käfer waren in den
Computer eingedrungen und waren daf&uuml;r verantwortlich. Daher beschreibt man einen Fehler, der auf den ersten Blick nicht offensichtlich
ist, asl einen "Bug", daher bedeutet "Debuggen", die Käfer zu entfernen, wo sie nicht hingehören. Nun, Sie brauchen sie nicht wirklich
zu jagen; vorausgesetzt das die heutigen Computer konzipiert sind, diese durch einen Schutz fernzuhalten. Sie m&uuml;ssen innerhalb des
Codes gefunden werden, wenn sie die Ausf&uuml;hrung eines Programms mit der Nachricht "Segmentation fault" (Speicherverletzung) beenden.
GNU bietet dazu ein weiteres Werkzeug, <CODE>gdb</CODE>, den GNU Debugger. Dieses Terminalprogramm erlaubt es, die internen Werte einer
Applikation und die Ausf&uuml;hrung durch setzen von Haltepunkten im Code zu beobachten. Gdb stoppt die Ausf&uuml;hrung jedes mal, wenn das
Programm an einen Haltepunkt kommt. Aber wie die meisten Werkzeuge wird auch der debugger von einem anderen Programm gesteuert, das ein
Frontend dazu bietet und es erlaubt, die Werte einfach zu beobachten und Haltepunkte im Code zu setzen.
<P>Zu diesem Zweck wird die Applikation Ihres Projekts standardmäßig mit der Compileroption zum Debuggen erzeugt und speichert daher
zusätzliche Daten in der Binärdatei, um die Werte und Zeilen im Code zu lokalisieren. Als Frontend zu gdb benutzt KDevelop das Programm
KDbg, den KDebugger. Um Ihr Programm zu debuggen, m&uuml;ssen Sie nur "Debuggen" im "Erstellen" Men&uuml; auswählen oder den entsprechenden
Werkzeugleistenknopf betätigen, der durch ein Rad mit Brille dargestellt wird und signalisiert, das Sie die Ausf&uuml;hrung beobachten
wollen.
<P>KDevelop öffnet dann das Werkzeuge-Fenster und statet Ihr Programm mit KDbg. Die KDbg Oberfläche erscheint dann innerhalb des
Werkzeuge-Fensters und erlaubt die Benutzung genauso als ob Sie den Debugger außerhalb von KDevelop gestartet hätten.
<P>Ganz Allgemein zeigen die obigen Schritte, das ein Entwickler zum Schreiben seines eigenen Programms verschiedene Stufen durchlaufen
muß, um ein Projekt zu beginnen. Auch erklärt dies, welchen Teil KDevelop dabei &uuml;bernimmt und wie die IDE die Idee eines einfachen Wegs
zur Unix-Programmierung unterst&uuml;tzt. Um weitere Informationen &uuml;ber die GNU Tools zu erhalten, sollten Sie die zugehörige Dokumentation
lesen, die Sie allgemein &uuml;ber das <CODE>man</CODE> Kommando oder &uuml;ber "System GNU Info contents" in der KDE Hilfe nachschlagen können.
<P>
<P>
<P ALIGN="RIGHT">

<A HREF="index-4.html">Weiter</A>
 <A HREF="index-2.html">Zurück</A>
 <A HREF="index.html#toc3">Inhaltsverzeichnis</A>
</P>
<CENTER>
<HR WIDTH="100%" SIZE=3 ALIGN=CENTER NOSHADE>
</CENTER>    
</FONT>

 
</BODY>
</HTML>
