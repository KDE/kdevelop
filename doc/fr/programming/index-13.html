<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>Le Manuel de Programmation de KDevelop: Le Système de Fichiers Standard de KDE</TITLE>
<META HTTP-EQUIV="content-type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="keywords" CONTENT="">
<META NAME="description" CONTENT="">
</HEAD>
<BODY BGCOLOR="#ffffff" LINK="#aa0000" TEXT="#000000" > 
<FONT FACE="Helvetica">
<A HREF="http://www.kde.org/"><IMG SRC="logotp3.png" BORDER="0" ALT="The K Desktop Environment"></A>
<HR WIDTH="100%" SIZE=2 ALIGN="CENTER" NOSHADE>

 
<P ALIGN="RIGHT">

<A HREF="index-14.html">Page suivante</A>
 <A HREF="index-12.html">Page précédente</A>
 <A HREF="index.html#toc13">Table des matières</A>
</P>
<H3><A NAME="s13">13. Le Système de Fichiers Standard de KDE</A></H3>

<P>Ce chapitre est une copie du Système de Fichiers Standard de KDE (NdT :
KDE FSSTD) écrit par Richard Moore 
<A HREF="rich@kde.org">rich@kde.org</A> et publié sur le site web de KDE à 
<A HREF="http://www.kde.org">http://www.kde.org</A>.
<P><B>Système de Fichiers Standard de KDE</B>
<P>Ce fichier documente la structure de répertoires que KDE et toutes les
applications compatibles avec KDE doivent utiliser. Ceci est la version 0.0.4
du standard.
<P>
<H3><A NAME="ss13.1">13.1 Introduction</A>
</H3>

<P>Le but du KDE FSSTD est de s'assurer que toutes les ressources (icônes,
types Mime, etc) requises par les applications KDE sont stockées dans
une structure de répertoires cohérente. Suivre cette structure permet aux
applications d'utiliser des outils comme la classe KIconLoader et de séparer
les données nécessaires à KDE spécifiques à la plate-forme des données
indépendantes de la plate-forme (rendant possible l'installation de plusieurs
architectures). Dans ce document, les noms des répertoires se terminent par le
caractère `/`. Lorsque le mot 'appname' apparaît entre inférieur/supérieur 
&lt;comme ceci&gt;, cela signifie qu'il devrait y avoir une entrée
correspondante pour chaque application KDE installée. Le mot 'lang' est
utilisé de la même façon pour indiquer qu'il doit y avoir une entrée pour
chaque langue supportée selon le système de nommage à deux caractères (par
exemple : 'fr' pour Français, 'de' pour Allemand).
<P>
<H3><A NAME="ss13.2">13.2 Organisation des Répertoires</A>
</H3>

<P>La structure de répertoires de KDE est indiquée ci-dessous, la racine de
l'arborescence d'installation de KDE est souvent '/opt/kde' mais peut être
déterminée à l'exécution en utilisant la méthode kdedir() de KApplication
(cela remplace la variable d'environnement KDEDIR dont l'utilisation est
maintenant obsolète). Ce document utilise kdedir() pour dénoter ce répertoire.
<!--
Système de Fichiers de KDE
-->
<!--
fichiers .kdelnk
-->
<P>
<UL>
<LI>kdedir()/
<UL>
<LI>bin/
<UL>
<LI>Binaires des applications</LI>
</UL>
</LI>
<LI>lib/
<UL>
<LI>bibliothèques standards de kde (libkdecore, etc.)</LI>
<LI><EM>&lt;appname&gt;</EM>/
<UL>
<LI>Données spécifiques de l'application dépendantes de la
plate-forme</LI>
</UL>
</LI>
</UL>
</LI>
<LI>include/
<UL>
<LI>fichiers d'en-tête standards de kde</LI>
</UL>
</LI>
<LI>parts/</LI>
<LI>cgi-bin/
<UL>
<LI>programmes CGI pour kdehelp</LI>
</UL>
</LI>
<LI>share/
<UL>
<LI>doc/
<UL>
<LI>HTML/
<UL>
<LI>default --> Lien vers kdedir()/share/doc/HTML/en</LI>
<LI><EM>&lt;lang&gt;</EM>/
<UL>
<LI><EM>&lt;appname&gt;</EM>/ 
<UL>
<LI>index.html </LI>
<LI>autres fichiers d'aide de
l'application</LI>
</UL>
</LI>
</UL>
</LI>
</UL>
</LI>
</UL>
</LI>
<LI>config/</LI>
<LI>applnk/
<UL>
<LI>System/</LI>
<LI>Utilities/</LI>
<LI>Applications/</LI>
<LI>Games/</LI>
<LI>kfind.kdelnk</LI>
<LI>khelp.kdelnk</LI>
<LI>khome.kdelnk</LI>
<LI>krefresh.kdelnk</LI>
</UL>
</LI>
<LI>mimelnk/
<UL>
<LI>magic</LI>
<LI>text/</LI>
<LI>audio/</LI>
</UL>
</LI>
<LI>partlnk/
<UL>
<LI><EM>&lt;partname&gt;</EM>.kdelnk</LI>
</UL>
</LI>
<LI>icons/
<UL>
<LI>Icônes utilisées dans les fichiers kdelnk</LI>
<LI><EM>&lt;appname&gt;</EM>.xpm</LI>
<LI>mini/
<UL>
<LI>Mini-icônes pour kpanel</LI>
</UL>
</LI>
</UL>
</LI>
<LI>toolbar/
<UL>
<LI>Pixmaps standard de barre d'outils (par ex : fileopen.xpm)</LI>
</UL>
</LI>
<LI>wallpapers/
<UL>
<LI>Papiers peints utilisés par kdisplay</LI>
</UL>
</LI>
<LI>apps/
<UL>
<LI><EM>&lt;appname&gt;</EM>/
<UL>
<LI>toolbar/
<UL>
<LI>Pixmaps de barre d'outils</LI>
</UL>
</LI>
<LI>pics/
<UL>
<LI>Autres pixmaps de l'application</LI>
</UL>
</LI>
<LI>Données spécifiques à l'application
(indépendantes de la plate-forme)               </LI>
</UL>
        </LI>
<LI><EM>&lt;libname&gt;</EM>/           
<UL>
<LI>pics/</LI>
</UL>
</LI>
</UL>
</LI>
<LI>locale/
<UL>
<LI><EM>&lt;lang&gt;</EM>/
<UL>
<LI>LC_MESSAGES/
<UL>
<LI><EM>&lt;appname&gt;</EM>.mo</LI>
</UL>
</LI>
</UL>
</LI>
</UL>
</LI>
</UL>
</LI>
</UL>
</LI>
</UL>
<P>
<H3><A NAME="ss13.3">13.3 Ce que cela signifie pour les développeurs d'application</A>
</H3>

<P>Une application KDE standard installera ses fichiers à différents endroits
dans la structure ci-dessus. Les seuls éléments nécessaires sont le binaire de
l'application, le fichier kdelnk de l'application, l'icône de l'application et
les fichiers d'aide de l'application - tous les autres sont facultatifs. Les
choses les plus couramment installées sont :
<P>
<BLOCKQUOTE><CODE>
<PRE>
Type de fichier                                   Emplacement

Binaire de l'application (requis)                 kdedir()/bin/
Fichier kdelnk de l'application (requis)          kdedir()/share/applnk/ 
Icône de l'application icon (requis)              kdedir()/share/icons/&lt;appname&gt;.xpm 
Fichiers d'aide de l'application (requis)         kdedir()/share/doc/default/HTML/&lt;appname&gt;/&lt;index&gt;.html
Pixmaps de la barre d'outils de l'application     kdedir()/share/apps/&lt;appname&gt;/toolbar/ 
Données de l'application (pour la plate-forme)    kdedir()/share/apps/&lt;appname&gt;/ 
Données de l'application (non-spécifiques)        kdedir()/lib/&lt;appname&gt;/ 
</PRE>
</CODE></BLOCKQUOTE>

<!--
Système de Fichiers de KDE
-->
<P>
<H3><A NAME="ss13.4">13.4 Documentation de l'Application </A>
</H3>

<P>J'ai suggéré de mettre nécessairement au moins une page dans 
<P>kdedir()/doc/default/HTML/&lt;appname&gt;/&lt;appname&gt;.html
<P>pour toute application KDE. L'application est libre d'utiliser le répertoire 
pour stocker toutes les données liées à l'aide dont elle a besoin.
<P>Les applications qui supportent plus d'une langue devront placer les
autres langues dans kdedir()/doc/&lt;lang&gt;/HTML/&lt;appname&gt;/&lt;appname&gt;.html
avec, comme d'habitude,  un répertoire 'lang' pour chaque code de langue. En 
organisant les fichiers de la sorte, des liens pourront être créés entre les
fichiers d'aide de deux applications différentes qui supportent toutes les deux
une langue donnée.
<P>Je ne suis pas 100 % satisfait de la solution que j'ai suggérée car elle ne
permet pas de se rabattre sur une langue par défaut si une traduction requise
n'est pas disponible.
<P>
<H3><A NAME="ss13.5">13.5 Ce que cela signifie pour les développeurs de bibliothèques</A>
</H3>

<P>
<P>
<UL>
<LI>kdedir()/share/apps/&lt;libname&gt;/toolbar</LI>
</UL>

Icônes des barres d'outils pour les widgets de la bibliothèque
<P>
<UL>
<LI>kdedir()/share/apps/&lt;libname&gt;/pics</LI>
</UL>

Toute autre image bitmap pour les widgets de la bibliothèque
<P>
<P ALIGN="RIGHT">

<A HREF="index-14.html">Page suivante</A>
 <A HREF="index-12.html">Page précédente</A>
 <A HREF="index.html#toc13">Table des matières</A>
</P>
<CENTER>
<HR WIDTH="100%" SIZE=3 ALIGN=CENTER NOSHADE>
</CENTER>    
</FONT>

 
</BODY>
</HTML>
