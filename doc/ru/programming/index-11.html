<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>KDevelop. Руководство программиста: Интернационализация</TITLE>
<META HTTP-EQUIV="content-type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="keywords" CONTENT="">
<META NAME="description" CONTENT="">
</HEAD>
<BODY BGCOLOR="#ffffff" LINK="#aa0000" TEXT="#000000" > 
<FONT FACE="Helvetica">
<A HREF="http://www.kde.org/"><IMG SRC="logotp3.png" BORDER="0" ALT="The K Desktop Environment"></A>
<HR WIDTH="100%" SIZE=2 ALIGN="CENTER" NOSHADE>

 
<P ALIGN="RIGHT">

<A HREF="index-12.html">Next</A>
 <A HREF="index-10.html">Previous</A>
 <A HREF="index.html#toc11">Table of Contents</A>
</P>
<H3><A NAME="s11">11. Интернационализация</A></H3>

<P>
<H3><A NAME="ss11.1">11.1 Что такое i18n ?</A>
</H3>

<P>i18n - это система интернационализации, которая используется для разработки интернациональных версий программы или проекта. Сложность
написания приложений состоит в том, что они поддерживают только один язык, заложенный в них при разработке; это проявляется в
надписях меток, входов меню и т.п. Цель интернационализации - предоставить приложения и библиотечные функции на языке
пользователя; это сделает их доступными пользователям, не владеющим языком оригинала, сделает их работу более комфортной.
<P>
<H3><A NAME="ss11.2">11.2 Как KDE поддерживает интернационализацию</A>
</H3>

<P>KDE, как современная рабочая среда, среди множества других целей ставит перед собой цель обеспечения пользователей приложениями
на их родном языке, и облегчения работы программистов в части реализации поддержки множества языков.
<P>Технически это реализуется с помощью стандарта файловой системы KDE, который поддерживает локализацию документации
и предоставляет возможность интернационализации приложений, используя класс  <CODE>KLocale</CODE> библиотеки KDE-core.
Он реализует перевод в зависимости от того, какой язык установлен по умолчанию в Центре управления KDE (KDE Control Center).
<P>Разработчик, с другой стороны, должен соблюдать только три правила, чтобы сделать свое приложение обладающим возможностью интернационализации:
<P>
<OL>
<LI>включить <CODE>kapp.h</CODE> в исходный код везде, где есть видимый текст, т.е. в исходники, содержащие
объекты QLabel,</LI>
<LI>везде, где встречаются видимые строки, вставить их в макрос <CODE>i18n()</CODE>, предоставляемый <CODE>kapp.h</CODE> для интернационализации,</LI>
<LI>везде, где вы используете локализованный объект, использовать макрос <CODE>klocale</CODE>, предоставляемый <CODE>kapp.h</CODE>.</LI>
</OL>
<P>Это почти все, за чем вы должны следить при разработке кода. Имейте в виду, что вы не должны интернационализировать конфигурационные строки,
используемые <CODE>KConfig</CODE>, потому что это, с одной стороны, ненужно, а с другой стороны, не будет работать.
<P>
<H3><A NAME="ss11.3">11.3 Добавление языка в проект</A>
</H3>

<P>KDevelop также принимает участие в облегчении вашей жизни при добавлении поддержки нового языка в ваше приложение. 
Всегда при создании нового проекта KDE каталог <CODE>po</CODE> добавляется в корневой каталог проекта. В него будет помещен ваш файл <EM>&lt;приложение&gt;</EM>.pot 
после окончания генерации. pot файл содержит все строки, заключенные в макрос i18n().
Вы должны только написать свой код, используя этот макрос. Время от времени вы должны запускать "Project"-"Make messages and
merge", что автоматически извлечет все макросы из кода и сгенерирует pot файл.
<!--
"Project"-menu
-->
<!--
PO-files
-->
<!--
translations
-->
<!--
KLocale
-->
<P>Для добавления языка в ваше приложение, выберите "Project"-"Add translation file", после чего откроется каталог выбора языка. Выберите
требуемый язык и нажмите OK. После этого соответствующий <EM>&lt;lang&gt;</EM>.po файл появится в каталоге <CODE>po</CODE>. Запустите
перевод po файла, выбрав его в каталоге po, в Real File Viewer или из LFV, папка "Translations". Если вы
установили KTranslator, он откроется в окне "Tools" с KTranslator, иначе как текстовый файл в панели header/resource.
KTranslator облегчает перевод строк, сканируя уже существующие переводы вашей локальной инсталляции KDE, поэтому
уже существующий перевод может использоваться повторно.
<P>Рассмотрим пример ручного редактирования:
<BLOCKQUOTE><CODE>
<PRE>
#: kscribble.cpp:619
msgid "Opens an existing document"
msgstr ""
</PRE>
</CODE></BLOCKQUOTE>
<P>Это строка, взятая из файла <CODE>kscribble.cpp</CODE>, строка кода номер 619. <CODE>msgid</CODE> и <CODE>msgstr</CODE> - это таги, которые
дают информацию для перевода; <CODE>msgstr</CODE> должен содержать переведенный текст. Вы можете увидеть эскейп-последовательности
типа \n или \t, которые должны быть включены в переведенную строку. Русский перевод будет выглядеть так:
<P>
<BLOCKQUOTE><CODE>
<PRE>
#: kscribble.cpp:619
msgid "Opens an existing document"
msgstr "Открыть существующий документ"
</PRE>
</CODE></BLOCKQUOTE>
<P>Это все, что необходимо для перевода; когда это сделано, сохраните файл. Когда make будет просматривать каталог po, будет обработан файл сообщений
и могут возникнуть ошибки, если строки переведены неправильно, например, без учета эскейп-последовательностей. 
Если это произошло, отредактируйте строку сообщения снова и убедитесь, что make выполняется без ошибок.
<P>Кроме того, вы должны быть очень аккуратны при переводе амперсантов в текстовых строках. Буква после амперсанта используется как
горячая клавиша в сочетании с клавишей ALT для переключения фокуса ввода клавиатуры на требуемый элемент. 
Если одинаковые буквы используются в одной области фокуса клавиатуры (например, главное окно или диалоговое окно),
все элементы, кроме первого, не будут доступны по горячей клавише. Поэтому переводчик также отвечает за возможность использования приложения.
Кроме того, нет никаких гарантий, что исходная буква встретится в переводе, поэтому переводчик должен быть очень осторожен и должен протестировать приложение на своем языке
после установки перевода, чтобы убедиться в отсутствии подобных неприятностей.
<P>
<H3><A NAME="ss11.4">11.4 Связь с командой перевода</A>
</H3>

<P>Команда KDE предоставляет многочисленные возможности контакта для разработчиков, выполняющих функции переводчиков.
Они организованы в группы по языку перевода, на уровне которых и координируется работа. Для получения списка групп и адресов, где можно узнать 
о переводе ваших приложений, см. 
<A HREF="http://www.kde.org">http://www.kde.org</A>.
<P>Информация, приводимая ниже, взята с web-сайта KDE и отражает состояние на 6 марта 1999 года. Если вы хотите присоединиться к команде перевода,
пишите непосредственно своему координатору.
<P>Перевод KDE организован Juraj Bednar 
<A HREF="mailto:bednar@rak.isternet.sk">mailto:bednar@rak.isternet.sk</A> и Matthias Elter 
<A HREF="mailto:me@kde.org">me@kde.org</A>.
<P>Вы можете подписаться на лист рассылки kde-i18n-doc@kde.org, послав письмо на 
<A HREF="mailto:kde-i18n-doc-request@kde.org?subject=subscribe">kde-i18n-doc-request@kde.org</A> 
со словом "subscribe" в теме письма.
<P>Перед началом любой работы по переводу, пожалуйста, свяжитесь с координатором вашей группы, чтобы избежать двойной работы.
<P>
<DL>
<P>
<P>
<DT><B>br Breton translation team:</B><DD><P>team coordinators: JaЯ-Mai DRAPIER 
<A HREF="mailto:jdrapier@club-internet.fr">jdrapier@club-internet.fr</A>
website: 
<A HREF="http://perso.club-internet.fr/jdrapier">http://perso.club-internet.fr/jdrapier</A><P>
<DT><B>ca Catalan translation team:</B><DD><P>team coordinators: SebastiЮ Pla 
<A HREF="mailto:sastia@redestb.es">sastia@redestb.es</A><P>
<DT><B>cs Czech translation team:</B><DD><P>team coordinators:  Miroslav FlМdr 
<A HREF="mailto:flidr@kky.zcu.cz">flidr@kky.zcu.cz</A><P>
<DT><B>da Danish translation team:</B><DD><P>team coordinators:  Erik KjФr Pedersen 
<A HREF="mailto:erik@binghamton.edu">erik@binghamton.edu</A><P>
<DT><B>de German translation team:</B><DD><P>team coordinators: Thomas Diehl 
<A HREF="mailto:th.diehl@gmx.net">th.diehl@gmx.net</A>
website: 
<A HREF="http://www.dtp-service.com/kde/de/">http://www.dtp-service.com/kde/de/</A>
mailing list:  send a mail with 'subscribe' in the subject line to: 
<A HREF="mailto:kde-i18n-de-request@kde.org?subject=subscribe">kde-i18n-de-request@kde.org</A> Webforum for discussions and user feedback: 
<A HREF="http://www.dtp-service.com/discus_d">http://www.dtp-service.com/discus_d</A><P>
<DT><B>el Greek translation team:</B><DD><P>team coordinators:  Theodore J. Soldatos 
<A HREF="mailto:theodore@eexi.gr">theodore@eexi.gr</A><P>
<DT><B>eo Esperanto translation team:</B><DD><P>team coordinators:  Wolfram Diestel 
<A HREF="mailto:diestel@rzaix340.rz-uni-leipzig.de">diestel@rzaix340.rz-uni-leipzig.de</A><P>
<DT><B>es Spanish translation team:</B><DD><P>team coordinators:  Boris Wesslowski, Alonso Lara 
<A HREF="mailto:Boris@Wesslowski.com">Boris@Wesslowski.com</A>
website: 
<A HREF="http://members.xoom.com/keko5/">http://members.xoom.com/keko5/</A>
mailing list: send a mail with 'subscribe' in the subject line to 
<A HREF="mailto:kde-es@kde.org?subject=subscribe">kde-es@kde.org</A><P>
<DT><B>et Estonian translation team:</B><DD><P>team coordinators:  Hasso C. Tepper 
<A HREF="mailto:hasso@ewsound.estnet.ee">hasso@ewsound.estnet.ee</A><P>
<DT><B>fi Finnish translation team:</B><DD><P>team coordinators: Kim Enkovaara 
<A HREF="mailto:kim.enkovaara@iki.fi">kim.enkovaara@iki.fi</A><P>
<DT><B>fr French translation team:</B><DD><P>team coordinators:  Francois-Xavier Duranceau 
<A HREF="mailto:Francois-Xavier.Duranceau@loria.fr">Francois-Xavier.Duranceau@loria.fr</A>
website: 
<A HREF="http://www.loria.fr/~durancea/kde/wip-apps.html">http://www.loria.fr/~durancea/kde/wip-apps.html</A>
mailing list: send an empty mail to:  
<A HREF="mailto:kde-traduc-fr-subscribe@egroups.com">kde-traduc-fr-subscribe@egroups.com</A><P>
<DT><B>he Hebrew translation team:</B><DD><P>team coordinators:  Erez Nir 
<A HREF="mailto:erez-n@actcom.co.il">erez-n@actcom.co.il</A><P>
<DT><B>hr Croatian translation team:</B><DD><P>team coordinators:  Vladimir Vuksan 
<A HREF="mailto:vuksan@veus.hr">vuksan@veus.hr</A><P>
<DT><B>hu Hungarian translation team:</B><DD><P>team coordinators:  Marcell Lengyel 
<A HREF="mailto:miketkf@yahoo.com">miketkf@yahoo.com</A>
website:
<A HREF="http://sophia.jpte.hu/~kde">http://sophia.jpte.hu/~kde</A><P>
<DT><B>is Icelandic translation team:</B><DD><P>team coordinators:
Logi Ragnarsson, 
<A HREF="mailto:logir@imf.au.dk">logir@imf.au.dk</A>
Thorarinn R. Einarsson, 
<A HREF="mailto:thori@mindspring.com">thori@mindspring.com</A>
Bjarni R. Einarsson, 
<A HREF="mailto:bre@netverjar.is">bre@netverjar.is</A>
Hrafnkell Eiriksson, 
<A HREF="mailto:hkelle@rhi.hi.is">hkelle@rhi.hi.is</A>
Gudmundur Erlingsson, 
<A HREF="mailto:gudmuner@lexis.hi.is">gudmuner@lexis.hi.is</A>
Richard Allen 
<A HREF="mailto:ra@hp.is">ra@hp.is</A><P>
<DT><B>it Italian translation team:</B><DD><P>team coordinators:  Andrea Rizzi 
<A HREF="mailto:rizzi@kde.org">rizzi@kde.org</A><P>
<DT><B>ko Korean translation team:</B><DD><P>team coordinators:  LinuxKorea Co. 
<A HREF="mailto:kde@linuxkorea.co.kr">kde@linuxkorea.co.kr</A><P>
<DT><B>mk Macedonian translation team:</B><DD><P>team coordinators:  Sasha Konecni 
<A HREF="mailto:sasha@msi-uk.com">sasha@msi-uk.com</A><P>
<DT><B>nl Dutch translation team:</B><DD><P>team coordinators:  flidr@CyberGate.zcu.cz 
<A HREF="mailto:flidr@CyberGate.zcu.cz">flidr@CyberGate.zcu.cz</A><P>
<DT><B>no Norwegian translation team:</B><DD><P>team coordinators:  Hans Petter Bieker 
<A HREF="mailto:zerium@webindex.no">zerium@webindex.no</A><P>
<DT><B>pl Polish translation team:</B><DD><P>team coordinators:  Piotr Roszatycki 
<A HREF="mailto:dexter@fnet.pl">dexter@fnet.pl</A><P>
<DT><B>pt Portuguese translation team:</B><DD><P>team coordinators:  Pedro Morais 
<A HREF="mailto:pmmm@camoes.rnl.ist.utl.pt">pmmm@camoes.rnl.ist.utl.pt</A><P>
<DT><B>pt_BR Brazil Portuguese translation team:</B><DD><P>team coordinators:  Elvis PfЭtzenreuter 
<A HREF="mailto:epx@netville.com.br">epx@netville.com.br</A><P>
<DT><B>ro Romanian translation team:</B><DD><P>team coordinators:  Paul Ionescu 
<A HREF="mailto:ipaul@romsys.ro">ipaul@romsys.ro</A><P>
<DT><B>ru Russian translation team:</B><DD><P>team coordinators:  Denis Y. Pershin 
<A HREF="mailto:dyp@inetlab.com">dyp@inetlab.com</A><P>
<DT><B>sk Slovak translation team:</B><DD><P>team coordinators:  Juraj Bednar 
<A HREF="mailto:bednar@isternet.sk">bednar@isternet.sk</A>
mailling list:  send a mail with 'subscribe' in the subject line to: 
<A HREF="mailto:sk-i18n@rak.isternet.sk?subject=subscribe">sk-i18n@rak.isternet.sk</A><P>
<DT><B>sl Slovenian translation team:</B><DD><P>team coordinators:  blazzupancic@hotmail.com 
<A HREF="mailto:blazzupancic@hotmail.com">blazzupancic@hotmail.com</A><P>
<DT><B>sv Swedish translation team:</B><DD><P>team coordinators:  Anders Widell 
<A HREF="mailto:d95-awi@nada.kth.se">d95-awi@nada.kth.se</A><P>
<DT><B>tr Turkish translation team:</B><DD><P>team coordinators:  Gorkem Cetin 
<A HREF="mailto:gorkem@linux.org.tr">gorkem@linux.org.tr</A><P>
<DT><B>zh_GB2312 Simplified Chinese translation team:</B><DD><P>team coordinators:  Wang Jian 
<A HREF="mailto:larkw@263.net">larkw@263.net</A><P>
<DT><B>zh_TW_Big5 Chinese BIG5 translation team:</B><DD><P>team coordinators:  Chou Yeh-Jyi 
<A HREF="mailto:ycchou@ccca.nctu.edu.tw">ycchou@ccca.nctu.edu.tw</A></DL>
<P>
<P>
<P>
<P ALIGN="RIGHT">

<A HREF="index-12.html">Next</A>
 <A HREF="index-10.html">Previous</A>
 <A HREF="index.html#toc11">Table of Contents</A>
</P>
<CENTER>
<HR WIDTH="100%" SIZE=3 ALIGN=CENTER NOSHADE>
</CENTER>    
</FONT>

 
</BODY>
</HTML>
